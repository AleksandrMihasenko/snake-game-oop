(()=>{"use strict";var t={494:(t,i,e)=>{e.r(i)},564:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(t=0,i=6,e=16,s=e/4){this.step=t,this.maxStep=i,this.sizeCell=e,this.sizeFruit=s}}},593:function(t,i,e){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const a=s(e(564));i.default=class{constructor(t,i){this.update=t,this.draw=i,this.config=new a.default,this.animate=this.animate.bind(this),this.animate()}animate(){requestAnimationFrame((()=>this.animate())),++this.config.step<this.config.maxStep||(this.config.step=0,this.update(),this.draw())}}},477:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.calcRandomNumber=void 0,i.calcRandomNumber=function(t,i){return Math.floor(Math.random()*(i-t)+t)}},607:function(t,i,e){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0}),e(494);const a=s(e(13)),h=document.querySelector("#board-canvas");new a.default(h)},169:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(t,i,e){this.width=0,this.height=0,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=320,this.canvas.height=400,this.width=i,this.height=e,null==t||t.appendChild(this.canvas)}}},907:function(t,i,e){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const a=s(e(564)),h=e(477);i.default=class{constructor(t){this.x=0,this.y=0,this.canvas=t,this.config=new a.default,this.randomPosition()}draw(t){t.beginPath(),t.fillStyle="#a00034",t.arc(this.x+this.config.sizeCell/2,this.y+this.config.sizeCell/2,this.config.sizeFruit,0,2*Math.PI),t.fill()}randomPosition(){this.x=(0,h.calcRandomNumber)(0,this.canvas.width/this.config.sizeCell)*this.config.sizeCell,this.y=(0,h.calcRandomNumber)(0,this.canvas.height/this.config.sizeCell)*this.config.sizeCell}}},13:function(t,i,e){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const a=s(e(169)),h=s(e(593)),o=s(e(993)),n=s(e(531)),c=s(e(907));i.default=class{constructor(t){this.canvas=new a.default(t,320,400),this.snake=new o.default,this.fruit=new c.default(this.canvas),this.score=new n.default(".board_header_score_count",0),new h.default(this.update.bind(this),this.draw.bind(this))}update(){this.snake.update(this.fruit,this.score,this.canvas)}draw(){this.canvas.context.clearRect(0,0,this.canvas.canvas.width,this.canvas.canvas.height),this.snake.draw(this.canvas.context),this.fruit.draw(this.canvas.context)}}},531:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(t,i=0){this.scoreWrapper=t,this.score=i,this.scoreBlock=document.querySelector(t),this.score=i,this.draw()}incScore(){this.score++,this.draw()}setToZero(){this.score=0,this.draw()}draw(){this.scoreBlock&&(this.scoreBlock.innerHTML=String(this.score))}}},993:function(t,i,e){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const a=s(e(564));i.default=class{constructor(){this.config=new a.default,this.x=160,this.y=160,this.dx=this.config.sizeCell,this.dy=0,this.tails=[],this.maxTails=3,this.control()}update(t,i,e){this.x+=this.dx,this.y+=this.dy,this.x<0?this.x=e.width-this.config.sizeCell:this.x>=e.width&&(this.x=0),this.y<0?this.y=e.height-this.config.sizeCell:this.y>=e.height&&(this.y=0),this.tails.unshift({x:this.x,y:this.y}),this.tails.length>this.maxTails&&this.tails.pop(),this.tails.forEach(((e,s)=>{e.x===t.x&&e.y===t.y&&(this.maxTails++,i.incScore(),t.randomPosition());for(let a=s+1;a<this.tails.length;a++)e.x===this.tails[a].x&&e.y===this.tails[a].y&&(this.death(),i.setToZero(),t.randomPosition())}))}draw(t){this.tails.forEach(((i,e)=>{t.fillStyle=0===e?"#fa0556":"#a00034",t.fillRect(i.x,i.y,this.config.sizeCell,this.config.sizeCell)}))}death(){this.x=160,this.y=160,this.dx=this.config.sizeCell,this.dy=0,this.tails=[],this.maxTails=3}control(){document.addEventListener("keydown",(t=>{"KeyW"===t.code?(this.dx=0,this.dy=-this.config.sizeCell):"KeyS"===t.code?(this.dx=0,this.dy=this.config.sizeCell):"KeyA"===t.code?(this.dx=-this.config.sizeCell,this.dy=0):"KeyD"===t.code&&(this.dx=this.config.sizeCell,this.dy=0)}))}}}},i={};function e(s){var a=i[s];if(void 0!==a)return a.exports;var h=i[s]={exports:{}};return t[s].call(h.exports,h,h.exports,e),h.exports}e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e(607)})();